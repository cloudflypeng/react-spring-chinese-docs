## Props
### Overview
```JavaScript
useSpring({ from: { ... }, to: { ... }, delay: 100, onRest: () => ... })
```

æ‰€æœ‰åŸè¯­éƒ½ç»§æ‰¿ä»¥ä¸‹å±æ€§ï¼ˆå°½ç®¡å…¶ä¸­ä¸€äº›å¯èƒ½ä¼šé¢å¤–å¸¦æ¥è‡ªå·±çš„å±æ€§ï¼‰ï¼š
|Property|ç±»å‹|æè¿°|
|-|-|-|
|from|obj|åŸºç¡€å€¼,å¯é€‰|
|to|obj/fn/array(obj)|åŠ¨ç”»åˆ°xçŠ¶æ€|
|loop|obj/fn/bool|å¾ªç¯è®¾ç½®, æŸ¥çœ‹Â loop propÂ è·å–æ›´å¤šç»†èŠ‚|
|delay|number/fn|åŠ¨ç”»å¼€å§‹å‰çš„å»¶è¿Ÿæ¯«ç§’ã€‚å¯ä»¥ç”¨å‡½æ•°è¿”å›ï¼škey => delay|
|immediate|bool/fn|å¦‚æœä¸ºçœŸï¼Œåˆ™é˜»æ­¢åŠ¨ç”»ã€‚ å¯ä»¥ç”¨å‡½æ•°è¿”å›ï¼škey => immediate|
|config|obj/fn|å¼¹ç°§é…ç½®ï¼ˆåŒ…å«è´¨é‡ã€å¼ åŠ›ã€æ‘©æ“¦åŠ›ç­‰ï¼‰ã€‚ å¯ä»¥ç”¨å‡½æ•°è¿”å›ï¼škey => config|
|reset|bool|å¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™å¼¹ç°§å¼€å§‹ä»å¤´å¼€å§‹åŠ¨ç”»ï¼ˆfrom -> toï¼‰|
|reverse|bool|å¦‚æœè®¾ç½®ä¸ºtrueï¼Œâ€œfromâ€å’Œâ€œtoâ€ä¼šåˆ‡æ¢ï¼Œè¿™ä»…ä¸â€œresetâ€æ ‡å¿—ç»“åˆä½¿ç”¨æ‰æœ‰æ„ä¹‰|
|cancel|bool/string/fn|å½“ä¸º true æ—¶ï¼Œcancel å±æ€§åœæ­¢æ¥æ”¶å®ƒçš„æ§åˆ¶å™¨æ‹¥æœ‰çš„æ¯ä¸ªåŠ¨ç”»å€¼çš„åŠ¨ç”»ã€‚ æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼ŒæŸ¥çœ‹cancel prop|
|pause|bool|pause å‚æ•°ä¼šåŠæ—¶å†»ç»“åŠ¨ç”»ã€‚|
|`events`|fn|å¤šç§äº‹ä»¶å›è°ƒï¼ˆæ›´å¤šä¿¡æ¯è§eventsï¼‰|
## é«˜çº§ Props
### Loop Prop
ä½¿ç”¨ loop:true æ¥é‡å¤åŠ¨ç”»
```JavaScript
function LoopTrue() {
  const styles = useSpring({
    loop: true,
    from: { rotateZ: 0 },
    to: { rotateZ: 180 },
  })

  return (
    <animated.div
      style={{
        width: 80,
        height: 80,
        backgroundColor: '#46e891',
        borderRadius: 16,
        ...styles,
      }}
    />
  )
}
```

loopå‡½æ•°
åœ¨æ¯ä¸ªå¾ªç¯ä¹‹åä¼ é€’ä¸€ä¸ªè¦è°ƒç”¨çš„å‡½æ•°ã€‚ è¿”å› true ç»§ç»­å¾ªç¯ï¼Œæˆ– false åœæ­¢
```JavaScript
function LoopFunction() {
  const n = useRef(0)
  const styles = useSpring({
    loop: () => 3 > n.current++,
    from: { x: 0 },
    to: { x: 100 },
  })

  return (
    <animated.div
      style={{
        width: 80,
        height: 80,
        backgroundColor: '#46e891',
        borderRadius: 16,
        ...styles,
      }}
    />
  )
}
```

loop å‡½æ•°è¿˜å¯ä»¥è¿”å›ä¸€ä¸ªå¾ªç¯å¯¹è±¡ï¼Œè¿™å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»ã€‚ å½“æ‚¨æƒ³åœ¨ä¸Šä¸€ä¸ªå¾ªç¯å®Œæˆåç«‹å³å†³å®šä¸‹ä¸€ä¸ªå¾ªç¯åŠ¨ç”»æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚
### Loop å¯¹è±¡
å®šä¹‰ä¸€ä¸ªå¾ªç¯å¯¹è±¡ï¼Œå°†å¾ªç¯åŠ¨ç”»ä¸åˆå§‹åŠ¨ç”»åˆ†å¼€è‡ªå®šä¹‰ã€‚ å®ƒå¯èƒ½åŒ…å«ä»»ä½• useSpring é“å…·ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨ reverse: trueï¼Œåˆ™å¾ªç¯åŠ¨ç”»å°†åœ¨æ¯ä¸ªå¾ªç¯ä¸­åè½¬ã€‚
```JavaScript
function LoopObject() {
  const styles = useSpring({
    loop: { reverse: true },
    from: { x: 0 },
    to: { x: 100 },
  })

  return (
    <animated.div
      style={{
        width: 80,
        height: 80,
        backgroundColor: '#46e891',
        borderRadius: 16,
        ...styles,
      }}
    />
  )
}
```

#### ç»§æ‰¿çš„ props
å¾ªç¯å¯¹è±¡æ€»æ˜¯åˆå¹¶åˆ°å®šä¹‰å®ƒçš„ props å¯¹è±¡çš„å‰¯æœ¬ä¸­ã€‚ä¸‹é¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªå¾ªç¯åŠ¨ç”»ï¼Œå®ƒç»§æ‰¿äº†å®ƒçš„ config propã€‚
```JavaScript
function InheritedProps() {
  const n = useRef(0)
  const styles = useSpring({
    from: { x: 0 },
    config: { duration: 1000 },
    loop: {
      x: 100,
    },
  })

  return (
    <animated.div
      style={{
        width: 80,
        height: 80,
        backgroundColor: '#46e891',
        borderRadius: 16,
        ...styles,
      }}
    />
  )
}
```

âš ï¸ æ³¨æ„å¾ªç¯ä¸ä¼šå¤šæ¬¡è¿è¡Œã€‚ é‚£æ˜¯å› ä¸ºæœ‰äº›é“å…·æ°¸è¿œä¸ä¼šè¢«ç»§æ‰¿ã€‚ è¿™äº›propsåŒ…æ‹¬`default`,Â `reset`, å’ŒÂ `reverse`.
è¦å¾ªç¯åŠ¨ç”»ï¼Œè¯·å°è¯•å°† reset: true æ·»åŠ åˆ°ä¸Šè¿°ç¤ºä¾‹ä¸­çš„å¾ªç¯é“å…·ã€‚ æˆ–è€…ï¼Œæ‚¨å¯ä»¥æ·»åŠ  from: { x: 0 } ä»¥è·å¾—ç›¸åŒçš„æ•ˆæœã€‚
æœ€åï¼Œå°è¯•å°† config: {friction: 5 } æ·»åŠ åˆ°å¾ªç¯å¯¹è±¡ã€‚ è¿™ä¼šä½¿ç”¨å¼¹æ€§åŠ¨ç”»è¦†ç›–ç»§æ‰¿çš„ config.durationã€‚
## Cancel Prop
å½“ä¸º true æ—¶ï¼Œcancel å±æ€§åœæ­¢æ¥æ”¶å®ƒçš„æ§åˆ¶å™¨æ‹¥æœ‰çš„æ¯ä¸ªåŠ¨ç”»å€¼çš„åŠ¨ç”»ã€‚
ä»¥ä¸‹ç¤ºä¾‹ä»ä¸åŠ¨ç”»ï¼Œå› ä¸ºå–æ¶ˆå§‹ç»ˆä¸º trueã€‚
```JavaScript
useSpring({
  cancel: true,
  from: { x: 0 },
  to: { x: 100 },
})
```

ä¸€æ—¦å–æ¶ˆpropä»trueå˜ä¸ºfalseï¼Œå£°æ˜çš„åŠ¨ç”»å°†æ¢å¤æˆ–é‡ç½®ï¼Œå…·ä½“å–å†³äºç»™å®šçš„propã€‚
#### å»¶è¿Ÿæ›´æ–°
å–æ¶ˆpropç”šè‡³å¯ä»¥é˜²æ­¢å»¶è¿Ÿæ›´æ–°ã€‚ ğŸ˜
```JavaScript
const [style, animate] = useSpring(() => ({ x: 0 }))

// Pass this to an element.
const onClick = () => {
  animate({ x: 100, delay: 500 })

  // Prevent the previous update. ğŸ¤£
  animate({ cancel: true })
}
```

#### ç‰¹å®šçš„key
ä¸ºç‰¹å®šçš„å€¼å–æ¶ˆåŠ¨ç”»,å¯ä»¥ä¼ é€’ä¸€ä¸ªkey,æˆ–ä¸€ä¸ªæ•°ç»„æˆ–æ˜¯ä¸€ä¸ª key=ã€‹ booleanå‡½æ•°
```JavaScript
// Using a single key
cancel: 'x',

// Using an array of keys
cancel: ['x', 'y'],

// Using a function
cancel: key => key !== 'x',
```

reset å’Œ immediate propæ”¯æŒè¿™äº›ç›¸åŒçš„ç±»å‹ã€‚
## äº‹ä»¶
|Event name|Description|
|-|-|
|onStart|Callback when a spring or key is about to be animated|
|onChange|Frame by frame callback|
|onRest|Callback when a spring or key comes to a stand-still|
|onPause|Callback when a spring or key is paused|
|onResume|Callback when a spring or key is resumed|
|onDelayEnd|Callback when a spring or key has finished being delayed|
|onProps|Callback when a spring or key's props have been updated|
Events as functions
ä¸åŒ…æ‹¬ onDelayEnd å’Œ onProps çš„äº‹ä»¶éƒ½æœ‰ç›¸åŒçš„å‚æ•°ä¼ é€’ç»™å®ƒä»¬ï¼š
```JavaScript
(result: AnimationResult, spring: Controller | SpringValue, item?: Item) => void
```

æ‰€ä»¥è®©æˆ‘ä»¬åˆ†è§£ä¸€ä¸‹ï¼š
result (1st arg) â€“ æ˜¯ä¸€ä¸ªåŠ¨ç”»ç»“æœï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…å«è°ƒç”¨æ—¶å¼¹ç°§å€¼çš„å¯¹è±¡ã€‚
spring (2nd arg) â€“ æ˜¯åŠ¨ç”»ç»“æœçš„æ§åˆ¶å™¨æˆ– SpringValueï¼Œè¿™ç§°ä¸ºäº‹ä»¶
item (3rd arg) â€“ è¿™ä»…åœ¨ä½¿ç”¨ useTransition é’©å­æˆ– Transition ç»„ä»¶æ—¶å¯ç”¨ã€‚
âš ï¸ è­¦å‘Š âš ï¸ - ç›®å‰ onStart åœ¨ç¬¬ä¸€ä¸ªåŠ¨ç”»è§¦å‘ä¹‹åè¢«è°ƒç”¨ï¼Œè¿™ä¸ªå€¼è¢«è®¤ä¸ºæ˜¯è„æ•°æ®
onDelayEnd å’Œ onProps ä¼ é€’äº†ä»¥ä¸‹å‚æ•°ï¼š
```JavaScript
(props: SpringProps, spring: SpringValue) => void
```

props (1st arg) â€“ spring çš„ props å¯¹è±¡ï¼ˆå…¨éƒ¨ä»åˆšåˆšä¼ é€’çš„æ–°å€¼ä¸­åˆå¹¶ï¼‰ã€‚
spring (2nd arg) â€“ å—å½±å“çš„ SpringValue å¯¹è±¡
#### Events as objects
åƒ onRest è¿™æ ·çš„äº‹ä»¶ä¹Ÿå¯ä»¥åœ¨æ¯ä¸ªé”®çš„åŸºç¡€ä¸Šå®šä¹‰ã€‚
```JavaScript
useSpring({
  from: { x: 0, y: 0 },
  onRest: {
    x: () => console.log('x.onRest'),
    y: () => console.log('y.onRest'),
  },
})
```

#### åŠ¨ç”»ç»“æœ
æŸäº›äº‹ä»¶åœ¨è°ƒç”¨æ—¶ä¼šæ¥æ”¶ä¸€ä¸ª AnimationResult å¯¹è±¡ä½œä¸ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ å®ƒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š
  value: any åŠ¨ç”»ç»“æŸæ—¶çš„å½“å‰å€¼ã€‚
finished?: boolean å½“åŠ¨ç”»åœ¨åœæ­¢æˆ–å–æ¶ˆä¹‹å‰å®Œæˆæ—¶ç­‰äº trueã€‚
cancelled?: boolean å½“åŠ¨ç”»è¢«å–æ¶ˆæ—¶ç­‰äº trueã€‚

ref API çš„ start æ–¹æ³•è¿”å›çš„ promise ç”± AnimationResult å¯¹è±¡ä»¥åŠ SpringValue å’Œ Controller ç±»çš„ start æ–¹æ³•è§£æã€‚
#### é»˜è®¤Props
é»˜è®¤props å…è®¸æ‚¨è®¾ç½®åœ¨åŒä¸€æ›´æ–°ä¸­å®šä¹‰çš„æŸäº›propsçš„é»˜è®¤å€¼ã€‚
#### å£°æ˜å¼æ›´æ–°
å¯¹äºå£°æ˜å¼ APIï¼Œæ­¤å±æ€§é»˜è®¤ä¸º trueã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œä¼ é€’ç»™ animate çš„æ¯ä¸ªæ›´æ–°éƒ½ä¼šç»§æ‰¿ onRest å¤„ç†ç¨‹åºï¼Œé™¤éè°ƒç”¨å®šä¹‰äº†è‡ªå·±çš„ onRest propã€‚
#### å‘½ä»¤å¼æ›´æ–°
å‘½ä»¤å¼æ›´æ–°å¯ä»¥ä½¿ç”¨ default: true æ¥è®¾ç½®é»˜è®¤propsã€‚ å½“ async to prop ç”±å‘½ä»¤å¼æ›´æ–°å®šä¹‰æ—¶ï¼Œå®ƒå°†ä»å‘½ä»¤å¼æ›´æ–°ç»§æ‰¿ propsï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```JavaScript
useSpring({
  from: { x: 0 },
  to: async animate => {
    // The `config` prop below is inherited by
    // both objects in the `to` array.
    await animate({
      to: [{ x: 100 }, { x: 0 }],
      config: { tension: 100 },
    })
  },
})
```

åœ¨ SpringValue#_merge æ–¹æ³•ä¸­çš„å†…éƒ¨å·®å¼‚ç®—æ³•å¤„ç†æ›´æ–°æ—¶ï¼Œä¼šç»§æ‰¿é»˜è®¤propsã€‚
ä¾‹å¦‚ï¼Œref prop å’Œ animate å‡½æ•°éƒ½å°†ç»§æ‰¿ä¸‹é¢å®šä¹‰çš„é»˜è®¤ propsï¼ˆåœ¨ useSpring props å‡½æ•°ä¸­ï¼‰ã€‚
```JavaScript
const ref = useSpringRef()
const [{ x }, api] = useSpring(() => ({
  x: 0,
  onRest: () => { ... },
  ref,
}))

useEffect(async () => {
  // Animate to 100 with the ref API.
  await ref.current.start({ x: 100 })
  // Animate to 0 with the returned API.
  await api.start({ x: 0 })
}, [])
```

#### å…¼å®¹Prop
åœ¨æœ€åä¸€ä¸ªä¾‹å­ä¸­ï¼Œåªç»§æ‰¿äº† onRest å±æ€§ï¼Œå› ä¸ºåªæœ‰ä¸€äº›å±æ€§å¯ä»¥æœ‰é»˜è®¤å€¼ã€‚
ä»¥ä¸‹é“å…·å¯ä»¥å…·æœ‰é»˜è®¤å€¼ï¼š
  - `cancel`
  - `config`
  - `immediate`
  - `onChange`
  - `onDelayEnd`
  - `onProps`
  - `onRest`
  - `onStart`
  - `pause`
#### é»˜è®¤å¯¹è±¡
é™¤äº†ä¼ é€’ default: true ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ¥ä»£æ›¿ã€‚ åªæœ‰åœ¨æ‚¨çš„é»˜è®¤å¯¹è±¡ä¸­å®šä¹‰çš„é“å…·å°†è¢«ä¿å­˜ä»¥ä¾›å°†æ¥æ›´æ–°ã€‚
åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† true è®¾ç½®ä¸º immediate çš„é»˜è®¤å€¼ã€‚ è¿™ä¼šå½±å“ useSpring è°ƒç”¨æ‹¥æœ‰çš„æ‰€æœ‰æœªæ¥åŠ¨ç”»ï¼Œæ— è®ºå®ƒä»¬æ˜¯å£°æ˜æ€§çš„è¿˜æ˜¯å‘½ä»¤æ€§çš„ã€‚
```JavaScript
const { x } = useSpring({
  x: 0,
  default: { immediate: true },
})
useEffect(() => {
  // This will be immediate.
  x.start(100)
})
```


